<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HawkGuard Dashboard</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<style>
:root{--bg:#f3f4f6;--card:#fff;--muted:#6b7280;--accent:#0ea5a4;--danger:#ef4444;--text:#111827}
[data-theme="dark"]{--bg:#071022;--card:#0f1724;--muted:#9ca3af;--accent:#60a5fa;--danger:#f87171;--text:#e6eef8}
*{box-sizing:border-box}body{margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text);padding:18px}
.container{max-width:1200px;margin:0 auto}
.header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
.brand{font-weight:700;font-size:20px}
.controls{display:flex;gap:8px;align-items:center}
.input{padding:8px 12px;border-radius:8px;border:1px solid #e5e7eb;background:transparent;color:var(--text)}
.btn{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer}
.btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--text)}
.top-cards{display:flex;gap:12px;margin-bottom:12px}
.card{background:var(--card);padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(15,23,42,0.06);flex:1}
.small{color:var(--muted);font-size:13px}
.grid{display:grid;grid-template-columns:1fr 320px;gap:12px}
.cameras{display:flex;gap:12px}
.camcard{background:var(--card);padding:12px;border-radius:10px;flex:1}
.camcard img{width:100%;height:300px;object-fit:cover;border-radius:8px;background:#000}
.table{width:100%;border-collapse:collapse;margin-top:8px;font-size:13px}
.table th,.table td{padding:8px;border-bottom:1px solid #eee;color:var(--muted);text-align:left}
.panel{background:var(--card);padding:12px;border-radius:10px}
.alert{background:var(--danger);color:#fff;padding:8px;border-radius:8px;text-align:center}
.footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

/* responsive */
@media(max-width:980px){.grid{grid-template-columns:1fr}.cameras{flex-direction:column}.camcard img{height:220px}}
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div>
        <div class="brand">HawkGuard Dashboard</div>
        <div class="small">Live Vehicle Monitoring</div>
      </div>

      <div class="controls">
        <input id="search" class="input" placeholder="Search plate / owner..." />
        <button id="darkBtn" class="btn btn-ghost">Dark Mode</button>
        <button id="logoutBtn" class="btn">Log out</button>
      </div>
    </header>

    <section class="top-cards">
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="display:flex;gap:12px;align-items:center">
            <div style="width:48px;height:48px;border-radius:8px;background:rgba(14,165,164,0.12);display:flex;align-items:center;justify-content:center">ðŸš—</div>
            <div>
              <div class="small">Total Vehicles</div>
              <div id="totalCount" style="font-size:20px;font-weight:700">0</div>
            </div>
          </div>
          <div class="small">System: <strong id="systemStatus" style="color:#10b981">Active</strong></div>
        </div>
      </div>

      <div class="card" style="width:220px">
        <div class="small">Registered Vehicles</div>
        <div id="regCount" style="font-size:20px;font-weight:700">0</div>
      </div>

      <div class="card" style="width:220px">
        <div class="small">Unregistered Vehicles</div>
        <div id="unregCount" style="font-size:20px;font-weight:700;color:var(--danger)">0</div>
      </div>
    </section>

    <main class="grid">
      <div>
        <div style="display:flex;gap:12px;">
          <div class="camcard">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div><strong>Camera 1</strong><div class="small">Entrance barrier</div></div>
              <div class="small" id="cam1Status">OK</div>
            </div>
            <img id="cam1Img" src="" alt="Camera 1 feed">
            <table class="table" id="cam1Table"><thead><tr><th>Time</th><th>Plate</th><th>Owner</th><th>Status</th></tr></thead><tbody></tbody></table>
          </div>

          <div class="camcard">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div><strong>Camera 2</strong><div class="small">Gate B</div></div>
              <div class="small" id="cam2Status">OK</div>
            </div>
            <img id="cam2Img" src="" alt="Camera 2 feed">
            <table class="table" id="cam2Table"><thead><tr><th>Time</th><th>Plate</th><th>Owner</th><th>Status</th></tr></thead><tbody></tbody></table>
          </div>
        </div>

        <div class="panel" style="margin-top:12px">
          <h4 style="margin:0 0 8px 0">Detection Statistics (by day)</h4>
          <canvas id="chart" height="90"></canvas>
        </div>
      </div>

      <aside style="display:flex;flex-direction:column;gap:12px">
        <div class="panel">
          <h4 style="margin:0 0 8px 0">Detected Vehicle</h4>
          <div>Plate: <strong id="latestPlate">-</strong></div>
          <div>Owner: <span id="latestOwner">-</span></div>
          <div>Category: <span id="latestType">-</span></div>
          <div>Time In: <span id="latestTime">-</span></div>
          <div>Status: <strong id="latestStatus">-</strong></div>
          <div id="unregAlert" style="display:none;margin-top:8px" class="alert">UNREGISTERED VEHICLE!</div>

          <div style="display:flex;gap:8px;margin-top:10px">
            <button id="triggerAlarm" class="btn">Trigger Alarm</button>
            <button id="viewHistory" class="btn btn-ghost">View History</button>
            <button id="blockGate" class="btn" style="background:var(--danger)">Block Gate</button>
          </div>
        </div>

        <div class="panel">
          <h4 style="margin:0 0 8px 0">System Controls</h4>
          <div class="small">Auto refresh</div>
          <select id="autoSelect" style="margin-top:6px;padding:6px;border-radius:6px">
            <option value="3000">3s</option>
            <option value="5000">5s</option>
            <option value="10000">10s</option>
          </select>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="refreshNow" class="btn btn-ghost">Refresh Now</button>
            <button id="pauseFeeds" class="btn btn-ghost">Pause Feeds</button>
          </div>
          <div style="margin-top:12px" class="small">Logged in as <strong>admin</strong></div>
        </div>
      </aside>
    </main>

    <footer class="footer">Â© HawkGuard â€” live monitoring</footer>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/assets/js/dashboard.js"></script>
</body>
</html>
